System.register(["./styles-38a11c49-legacy-e1ad4837.js","./index-legacy-052b3898.js","./layout-e57aec3f-legacy-ea969a36.js","./svgDraw-1b15aedc-legacy-fbb131b0.js","./line-53c588d2-legacy-e2d79c27.js","./array-b7dcf730-legacy-bc791948.js","./constant-b644328d-legacy-e489dff2.js"],(function(t,e){"use strict";var a,r,n,d,i,o,s,c,p,f;return{setters:[function(t){a=t.p,r=t.d,n=t.s},function(t){d=t.as,i=t.ay,o=t.ax,s=t.az},function(t){c=t.G,p=t.l},function(t){f=t.s},null,null,null],execute:function(){var e={},g=function(t){var a=Object.entries(e).find((function(e){return e[1].label===t}));if(a)return a[0]};t("diagram",{parser:a,db:r,renderer:{draw:function(t,a,r,n){var l=d().class;e={},i.info("Rendering diagram "+t);var u,h=d().securityLevel;"sandbox"===h&&(u=o("#i"+a));var m,k=o("sandbox"===h?u.nodes()[0].contentDocument.body:"body"),y=k.select("[id='".concat(a,"']"));(m=y).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),m.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),m.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),m.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),m.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),m.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),m.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),m.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var L=new c({multigraph:!0});L.setGraph({isMultiGraph:!0}),L.setDefaultEdgeLabel((function(){return{}}));for(var b=n.db.getClasses(),v=0,x=Object.keys(b);v<x.length;v++){var E=x[v],w=b[E],M=f.drawClass(y,w,l,n);e[M.id]=M,L.setNode(M.id,M),i.info("Org height: "+M.height)}n.db.getRelations().forEach((function(t){i.info("tjoho"+g(t.id1)+g(t.id2)+JSON.stringify(t)),L.setEdge(g(t.id1),g(t.id2),{relation:t},t.title||"DEFAULT")})),n.db.getNotes().forEach((function(t){i.debug("Adding note: ".concat(JSON.stringify(t)));var a=f.drawNote(y,t,l,n);e[a.id]=a,L.setNode(a.id,a),t.class&&t.class in b&&L.setEdge(t.id,g(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")})),p(L),L.nodes().forEach((function(t){void 0!==t&&void 0!==L.node(t)&&(i.debug("Node "+t+": "+JSON.stringify(L.node(t))),k.select("#"+(n.db.lookUpDomId(t)||t)).attr("transform","translate("+(L.node(t).x-L.node(t).width/2)+","+(L.node(t).y-L.node(t).height/2)+" )"))})),L.edges().forEach((function(t){void 0!==t&&void 0!==L.edge(t)&&(i.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(L.edge(t))),f.drawEdge(y,L.edge(t),L.edge(t).relation,l,n))}));var j=y.node().getBBox(),H=j.width+40,N=j.height+40;s(y,N,H,l.useMaxWidth);var S="".concat(j.x-20," ").concat(j.y-20," ").concat(H," ").concat(N);i.debug("viewBox ".concat(S)),y.attr("viewBox",S)}},styles:n,init:function(t){t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,r.clear()}})}}}));
